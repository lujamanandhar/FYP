<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36" version="29.2.9">
  <diagram name="Page-1" id="6DXVXJP1-MbXsIpuztbp">
    <mxGraphModel dx="2022" dy="1007" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-144" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};participant=umlActor;verticalAlign=bottom;labelPosition=center;verticalLabelPosition=top;align=center;size=65;" value="User" vertex="1">
          <mxGeometry height="1354" width="35" x="20" y="220" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-145" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="PaymentScreen" vertex="1">
          <mxGeometry height="1354" width="150" x="543" y="220" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-146" parent="g9gslSZ7xSeYyZeEt8bd-145" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="62" width="10" x="70" y="107" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-147" parent="g9gslSZ7xSeYyZeEt8bd-145" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="52" width="10" x="70" y="419" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-148" parent="g9gslSZ7xSeYyZeEt8bd-145" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="42" width="10" x="75" y="933" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-149" parent="g9gslSZ7xSeYyZeEt8bd-145" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="42" width="10" x="75" y="1187" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-150" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="PaymentAPI" vertex="1">
          <mxGeometry height="1354" width="150" x="1112" y="220" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-151" parent="g9gslSZ7xSeYyZeEt8bd-150" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="1090" width="10" x="70" y="159" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-152" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Database" vertex="1">
          <mxGeometry height="1354" width="150" x="1646" y="220" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-153" parent="g9gslSZ7xSeYyZeEt8bd-152" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="52" width="10" x="70" y="211" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-154" parent="g9gslSZ7xSeYyZeEt8bd-152" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="42" width="10" x="70" y="725" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-155" parent="g9gslSZ7xSeYyZeEt8bd-152" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="42" width="10" x="70" y="829" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-156" parent="g9gslSZ7xSeYyZeEt8bd-152" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="42" width="10" x="70" y="1083" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-157" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="PaymentGateway" vertex="1">
          <mxGeometry height="1354" width="150" x="1846" y="220" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-158" parent="g9gslSZ7xSeYyZeEt8bd-157" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="52" width="10" x="70" y="315" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-159" parent="g9gslSZ7xSeYyZeEt8bd-157" style="points=[];perimeter=orthogonalPerimeter;outlineConnect=0;targetShapes=umlLifeline;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0}" value="" vertex="1">
          <mxGeometry height="42" width="10" x="70" y="575" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-160" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="612" width="1652" x="84" y="867" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-161" parent="g9gslSZ7xSeYyZeEt8bd-160" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Payment Successful]" vertex="1">
          <mxGeometry height="20" width="1622" x="30" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-162" parent="g9gslSZ7xSeYyZeEt8bd-160" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Payment Failed]" vertex="1">
          <mxGeometry height="4" width="1652" y="363" as="geometry" />
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-163" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-144" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-146" value="Select plan (app or gym)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="365" y="327" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-164" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-146" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-151" value="POST /api/payment/create-subscription&#xa;(userId, planId, type, gymId?)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="913" y="379" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-165" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-151" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-153" value="Create Subscription&#xa;(status=pending, subscription_type, gym_id)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1465" y="431" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-166" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-153" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-151" value="subscriptionCreated">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1466" y="483" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-167" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-151" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-158" value="createPaymentIntent(amount, currency, metadata)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1565" y="535" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-168" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-158" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-151" value="paymentIntentCreated">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1566" y="587" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-169" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-151" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-147" value="paymentIntentDetails">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="912" y="639" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-170" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-147" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-144" value="Show payment form">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="366" y="691" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-171" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-144" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-145" value="Submit payment details">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="365" y="743" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-172" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-145" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-159" value="confirmPayment()">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1280" y="795" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-173" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-157" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-151" value="paymentResult (webhook/callback)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1566" y="847" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-174" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-151" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-154" value="update Subscription(status=active)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1465" y="945" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-175" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-152" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-151" value="subscriptionUpdated">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1466" y="997" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-176" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-151" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-155" value="create PaymentTransaction(status=success)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1465" y="1049" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-177" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-152" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-151" value="transactionSaved">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1466" y="1101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-178" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-151" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-148" value="paymentSuccess + subscriptionInfo">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="914" y="1153" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-179" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-145" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-144" value="Show success message&#xa;+ activate premium / gym membership">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="366" y="1205" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-180" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-151" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-156" value="create PaymentTransaction(status=failed)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1465" y="1303" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-181" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-152" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-151" value="transactionSaved">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1466" y="1355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-182" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-151" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-149" value="paymentFailed(reason)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="914" y="1407" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="g9gslSZ7xSeYyZeEt8bd-183" edge="1" parent="1" source="g9gslSZ7xSeYyZeEt8bd-145" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="g9gslSZ7xSeYyZeEt8bd-144" value="Show error message">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="366" y="1459" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
